# 血容血温监测传感器部件(BAVTHS)软件单元测试计划

## 1. 文档信息

|   项目   |                   内容                    |
| -------- | ---------------------------------------- |
| 项目名称 | 血容血温监测传感器部件(BAVTHS)软件单元测试 |
| 文档编号 |                                          |
| 版本     | v1.0                                     |
| 创建日期 | 2025-12-08                               |
| 创建人   | 刘振                                      |

| 修订记录-版本号 | 修订记录-修订日期 | 修订记录-修订人 | 修订记录-修订内容 |
| --------------- | ---------------- | --------------- | ---------------- |
| v1.0            | 2026-01-05       | 刘振            | 初版              |


|                参考文档                |
| ------------------------------------- |
| 1. 血容血温监测传感器部件需求规格说明书 |
| 2. 贝朗THS模块传输协议                 |
| 3. BB-DCI联机输出信息格式V2.1          |


## 2. 测试范围与测试目标

### 2.1 测试范围

|    软件单元     |                                                                                   测试项                                                                                   |
| -------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 传感器处理单元	 | 1. 采集数据的滤波处理<br>2. 格式转换计算<br>3. 填充为XML文本进行传输                                                                                                          |
| 传感器采集单元  | 1. USB2.0协议适配性<br>2. 默认30s/次读取频率准确性<br>3. 读取频率程序更改功能<br>4. THS模块断开/数据异常容错处理                                                               |
| 数据存储单元    | 1. .csv格式存储正确性（含UID、日期、时间、血温、血容量）<br>2. 至少2周数据存储容量验证<br>3. RTC时钟同步准确性（CR2032电池供电）<br>4. 存储满后数据处理策略                       |
| 数据传输单元    | 1. RJ45接口三方系统通讯（符合BB-DCI V2.1）<br>2. USB-serial接口U盘导出（5V TTL、115KB/秒）<br>3. Wifi模块数据传输（三方系统模拟器）                                            |
| 配置管理单元    | 1. U盘写入配置（UID、日期、时间）<br>2. 配置文件识别与解析准确性<br>3. 错误配置数据处理逻辑                                                                                    |
| 治疗流程单元    | 1. 通电（白灯常亮）<br>2. 配置（USB连接蓝闪、配置成功蓝常亮）<br>3. 使用（按键后绿闪、10分钟后绿常亮）<br>4. 异常（THS故障黄闪、网络/信号故障黄常亮）<br>5. 治疗结束（按键后熄灭） |
| 屏幕显示单元    | 1. 彩色TFT屏数据显示准确性<br>2. 状态显示（联机、板子状态）<br>3. 拷贝进度条显示<br>4. 开机软件版本单次显示                                                                     |

### 2.2 测试目标

| 目标类型 | 具体内容 |
|----------|----------|
| 功能目标 | 1. 所有软件单元功能符合需求，无缺失/逻辑错误<br>2. 数据处理（读取/转换/存储/传输）准确性100% |
| 稳定性目标 | 1. 异常场景容错率100%<br>2. 关键功能长时间运行无故障 |
| 合规性目标 | 满足GB9706.1-2020、YY 9706.102-2021、YY/T 1843-2022 |
| 缺陷目标 | 1. 致命/严重缺陷0个<br>2. 一般缺陷≤3个<br>3. 轻微缺陷≤5个 |

## 3. 测试环境与测试工具

| 环境类型 |              配置要求               |
| -------- | ---------------------------------- |
| 开发环境 | KEIL                               |
| 测试框架 | Ceedling, Unity, Cmoke, CException |
| 操作系统 | Windows10                          |


|   类别   |                                                                  名称/配置                                                                  |                                                      用途                                                       |
| -------- | ------------------------------------------------------------------------------------------------------------------------------------------ | -------------------------------------------------------------------------------------------------------------- |
| 测试环境 | 1. 通讯/供电板PCBA仿真模型<br>2. THS模块模拟器<br>3. 嵌入式操作系统仿真环境<br>4. 有线网络（RJ45）+无线网络（Wifi）<br>5. 兼容U盘（USB-serial） | 1. 模拟硬件接口交互<br>2. 生成测试数据<br>3. 模拟实际运行场景<br>4. 验证数据传输功能<br>5. 测试配置/导出功能        |
| 测试工具 | 1. USB2.0协议分析仪<br>2. 网络抓包工具（Wireshark）<br>3. THS数据模拟<br>4. 固件升级测试工具<br>5. 缺陷管理工具（Jira）                        | 1. 验证USB通讯协议<br>2. 分析数据传输完整性<br>3. 生成正常/异常测试数据<br>4. 测试固件升级流程<br>5. 缺陷记录与跟踪 |

## 4. 软件模块单元测试

### 4.1 传感器处理单元测试

#### 4.1.1 数据采集与处理测试

| 测试项 | 测试目标 | 测试方法 | 通过标准 |
|--------|----------|----------|----------|
| **UC-SP-001** | 验证采集数据的滤波处理功能 | 1. 向处理单元输入一组包含随机波动和毛刺的仿真传感器数据<br>2. 启动数据处理流程 | 1. 输出的HCT及温度数据曲线平滑，无明显不合理跳变<br>2. 滤波后的数据符合预设的算法逻辑 |
| **UC-SP-002** | 验证HCT到RBV的格式转换计算 | 1. 输入一个当前的HCT(t)仿真值（如：25%）<br>2. 触发一次计算 | RBV(t)计算结果为 (30-25)/25 = 20.0%，计算准确 |
| **UC-SP-003** | 验证数据填充为XML文本的格式正确性 | 1. 调用数据传输接口，准备发送数据<br>2. 捕获待传输的数据文本 | 1. 数据被封装为格式良好的XML片段<br>2. XML中包含正确的标签、时间戳、RBV值、温度值，且值无误 |

### 4.2 传感器采集单元测试

#### 4.2.1 THS传感器数据读取测试

| 测试项 | 测试目标 | 测试方法 | 通过标准 |
|--------|----------|----------|----------|
| **UC-SC-001** | 验证USB2.0协议与THS模块的适配性 | 1. 上电启动系统<br>2. 检查软件日志与状态 | 1. 系统能正确识别并挂载THS模块<br>2. 日志显示USB通讯协议握手成功，无报错 |
| **UC-SC-002** | 验证默认30秒/次数据读取频率的准确性 | 1. 记录首次成功读取数据的时间戳T0<br>2. 连续监测并记录后续至少5次数据读取的时间戳 | 1. 每次数据读取间隔为30±1秒<br>2. 读取动作稳定，无长时间阻塞或漏读 |
| **UC-SC-003** | 验证THS模块断开或数据异常的容错处理 | 1. 在两次读取之间，物理断开THS模块连接<br>2. 观察系统状态与日志<br>3. 重新连接模块 | 1. 系统检测到断开，触发"异常"状态，黄灯闪烁<br>2. 系统不应崩溃，应持续尝试恢复或等待<br>3. 重新连接后，能自动恢复正常读取 |

### 4.3 数据存储单元测试

#### 4.3.1 本地数据存储测试

|     测试项     |              测试目标               |                                         测试方法                                         |                                                      通过标准                                                      |
| ------------- | ---------------------------------- | --------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------ |
| **UC-DS-001** | 验证.csv格式存储的数据正确性与完整性 | 1. 启动一次治疗流程，产生多组数据<br>2. 治疗结束后，检查存储的.csv文件                      | 1. 文件生成，格式为.csv<br>2. 文件包含所有指定列：UID、日期、时间、血温、血容量(RBV)<br>3. 每条记录数据与当时产生值一致 |
| **UC-DS-002** | 验证至少2周数据存储的容量            | 1. 模拟连续不断(24小时/天)产生数据(如30秒/次)<br>2. 快速写入模拟数据持续写入超过2周(如15天) | 1. 系统在整个过程中持续正常运行，无因存储满而异常<br>2. 15天后，最早的数据仍可访问，存储容量满足要求                    |
| **UC-DS-003** | 验证RTC时钟在电池供电下的同步准确性  | 1. 记录当前准确时间T1<br>2. 断开主电源，静置24小时<br>3. 重新上电，读取系统时间T2           | 系统时间T2与T1+24小时的误差在允许范围内(如±1分钟)，证明RTC电池维持时钟有效                                             |
| **UC-DS-004** | 验证存储满后的数据处理策略           | 1. 继续产生并存储新数据，直至触发存储满状态<br>2. 观察系统行为与日志                        | 1. 系统应按照预定策略(如覆盖最旧数据)处理，或抛出明确警告但不停机<br>2. 策略执行后，新数据可继续写入                    |

### 4.4 数据传输单元测试

#### 4.4.1 RJ45网络通信测试

| 测试项 | 测试目标 | 测试方法 | 通过标准 |
|--------|----------|----------|----------|
| **UC-DT-001** | 验证RJ45接口与第三方系统通讯符合规范 | 1. 在PCBA上产生一组测试数据<br>2. 启动数据传输<br>3. 在第三方系统模拟器端监听并捕获数据 | 1. 第三方系统成功接收到数据<br>2. 数据格式、内容、协议(符合BB-DCI V2.1)完全正确 |

#### 4.4.2 USB-serial接口测试

| 测试项 | 测试目标 | 测试方法 | 通过标准 |
|--------|----------|----------|----------|
| **UC-DT-002** | 验证USB-serial接口U盘导出功能 | 1. 触发"数据导出"指令(如通过按键或指令)<br>2. 等待导出完成，检查U盘内容 | 1. U盘根目录生成包含历史数据的.csv文件<br>2. 文件可通过电脑正常打开，数据完整<br>3. 导出过程指示灯或日志状态正确 |

#### 4.4.3 Wi-Fi通信测试

| 测试项 | 测试目标 | 测试方法 | 通过标准 |
|--------|----------|----------|----------|
| **UC-DT-003** | 验证Wi-Fi模块与三方系统/外屏的数据传输 | 1. 配置PCBA向指定IP/端口发送数据<br>2. 在PCBA产生实时数据<br>3. 在接收端查看 | 1. 接收端能持续、稳定地收到实时RBV和温度数据<br>2. 数据传输延迟在可接受范围内，无频繁断连 |

### 4.5 配置管理单元测试

#### 4.5.1 设备配置测试

|     测试项     |           测试目标            |                                         测试方法                                          |                                               通过标准                                                |
| ------------- | ----------------------------- | ----------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------- |
| **UC-CM-001** | 验证通过U盘写入配置(UID、时间) | 1. 插入U盘，给系统上电<br>2. 观察启动过程中指示灯状态(应蓝闪)<br>3. 启动完成后，检查系统配置  | 1. 系统识别U盘配置文件，进入配置模式(蓝闪)<br>2. 启动后，系统UID、日期时间变为配置文件中的值，状态灯蓝常亮 |
| **UC-CM-002** | 验证配置文件识别与解析的准确性 | 1. 通过U盘发送配置信息(UID=Test01, 时间=2025-01-01 10:00:00)<br>2. 检查系统生效的配置       | 1. 系统能准够确解析配置文件或指令<br>2. 解析后，系统获取的UID和时间值与发送值完全一致                     |
| **UC-CM-003** | 验证错误配置数据的处理逻辑      | 1. 通过U盘写入一份格式错误(如JSON错误)或内容非法(如时间格式不对)的配置文件<br>2. 观察系统反应 | 1. 系统应拒绝错误配置，进入安全状态(如使用默认配置或上次有效配置)<br>2. 在日志中记录明确的配置错误信息     |

### 4.6 治疗流程单元测试

#### 4.6.1 状态指示灯测试

|     测试项     |             测试目标             |                                                   测试方法                                                   |                                                                            通过标准                                                                            |
| ------------- | ------------------------------- | ------------------------------------------------------------------------------------------------------------ | -------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **UC-TP-001** | 验证完整治疗流程状态指示灯序列    | 1. 接通电源<br>2. 插入已配置U盘<br>3. 等待配置完成，按下"开始治疗"键<br>4. 等待10分钟以上<br>5. 按下"结束治疗"键 | 1. 通电后：**白灯常亮**<br>2. 识别U盘配置：**蓝灯闪烁**→配置成功：**蓝灯常亮**<br>3. 按键开始：**绿灯闪烁**→10分钟后：**绿灯常亮**<br>4. 按键结束：**所有灯熄灭** |
| **UC-TP-002** | 验证THS故障时的异常状态指示       | 1. 模拟THS故障(如断开传感器连接)                                                                              | 系统检测到THS故障，状态指示灯变为**黄灯闪烁**，直至故障排除                                                                                                       |
| **UC-TP-003** | 验证网络/信号故障时的异常状态指示 | 1. 断开Wi-Fi路由器或制造强信号干扰                                                                            | 系统检测到网络不可用，状态指示灯变为**黄灯常亮**，直至网络恢复                                                                                                    |

### 4.7 屏幕显示单元测试

#### 4.7.1 显示功能测试

|     测试项     |             测试目标             |                             测试方法                              |                                                      通过标准                                                       |
| ------------- | -------------------------------- | ----------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------- |
| **UC-DU-001** | 验证彩色TFT屏数据与状态显示准确性 | 1. 使系统处于不同状态(如治疗中、联机、拷贝中)<br>2. 观察屏幕显示内容 | 1. 实时显示的血液温度(℃)、RBV(%)、日期时间准确<br>2. 联机状态、板子状态图标与文字指示正确<br>3. 整体显示清晰，1米内可见 |
| **UC-DU-002** | 验证数据拷贝与固件升级进度条显示   | 1. 触发U盘数据拷贝操作                                             | 1. 屏幕显示拷贝动态进度条进度与实际进程同步                                                                           |
| **UC-DU-003** | 验证开机软件版本单次显示          | 1. 给系统上电开机                                                  | 开机启动过程中，屏幕在主界面出现前，单次显示当前软件版本号(如V1.0.0)，持续约3秒后进入主界面                              |

## 5. 稳定性测试
|    测试项    |       测试目标       |      测试方法      |      通过标准      |
| ----------- | ------------------- | ----------------- | ----------------- |
| TC-PERF-001 | 验证长时间运行稳定性 | 连续运行24小时     | 无内存泄漏、无死机 |
| TC-PERF-002 | 验证高负载处理能力   | 模拟高频率数据输入 | 系统稳定性良好     |



## 6. 测试策略与测试类型

| 测试策略 |                                                                                              具体内容                                                                                              |
| -------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 核心策略 | 1. 单元独立测试+边界值测试+异常场景测试<br>2. 核心功能优先（数据读取/转换/存储/传输）<br>3. 合规性测试贯穿全程<br>4. 需求覆盖：核心需求100%，重要非核心≥80%<br>5. 静态测试（代码审查）+动态测试（用例执行） |

|   测试类型   |        适用单元        |                                               测试内容                                               |
| ------------ | --------------------- | --------------------------------------------------------------------------------------------------- |
| 功能测试     | 所有单元               | 验证功能符合需求，无缺失/逻辑错误                                                                     |
| 可追溯性验证 | 所有单元               | 	验证每个测试用例都能追溯到具体的软件需求，确保需求被完整覆盖，无遗漏                                 |
| 边界值测试   | 数据读取/存储/转换单元 | 1. 读取频率边界（最小/最大可配置值）<br>2. 存储容量边界（2周数据临界点）<br>3. HCT值边界（合理范围极值） |
| 异常测试     | 所有单元               | 1. 模块断开/网络中断/U盘异常<br>2. 错误配置/无效输入<br>3. 按压误触/连续按压                            |

## 7. 测试用例设计模板

| 用例 ID        | 测试模块       | 测试标题                              | 前置条件                                                             | 输入/操作步骤                                                                                                 | 预期结果                                                                                                                                                             | 测试状态 (通过/失败/阻塞) | 备注 |
| :------------ | :------------- | :----------------------------------- | :------------------------------------------------------------------ | :----------------------------------------------------------------------------------------------------------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :----------------------- | :--- |
| **UC-SP-001** | 传感器处理单元 | 验证采集数据的滤波处理功能             | 1. 软件部署完成<br>2. 仿真数据源可提供含噪声的原始HCT/温度数据         | 1. 向处理单元输入一组包含随机波动和毛刺的仿真传感器数据<br>2. 启动数据处理流程                                   | 1. 输出的HCT及温度数据曲线平滑，无明显不合理跳变<br>2. 滤波后的数据符合预设的算法逻辑                                                                                    | 通过                     |      |
| **UC-SP-002** | 传感器处理单元 | 验证HCT到RBV的格式转换计算             | 1. 软件部署完成<br>2. HCT(0)已成功设定（如：30%）                     | 1. 输入一个当前的HCT(t)仿真值（如：25%）<br>2. 触发一次计算                                                    | RBV(t)计算结果为 (30-25)/25 = 20.0%， 计算准确                                                                                                                        | 通过                     |      |
| **UC-SP-003** | 传感器处理单元 | 验证数据填充为XML文本的格式正确性      | 1. 软件运行正常<br>2. 已生成一组有效的RBV和温度数据                    | 1. 调用数据传输接口，准备发送数据<br>2. 捕获待传输的数据文本                                                    | 1. 数据被封装为格式良好的XML片段<br>2. XML中包含正确的标签、时间戳、RBV值、温度值，且值无误                                                                              | 通过                     |      |
| **UC-SC-001** | 传感器采集单元 | 验证USB2.0协议与THS模块的适配性        | 1. 硬件连接正常（PCBA与THS模块）<br>2. 软件初始化完成                  | 1. 上电启动系统<br>2. 检查软件日志与状态                                                                       | 1. 系统能正确识别并挂载THS模块<br>2. 日志显示USB通讯协议握手成功，无报错                                                                                                | 通过                     |      |
| **UC-SC-002** | 传感器采集单元 | 验证默认30秒/次数据读取频率的准确性    | 1. 仿真环境搭建完成<br>2. THS模拟器连接正常<br>3. 软件初始化完成       | 1. 记录首次成功读取数据的时间戳T0<br>2. 连续监测并记录后续至少5次数据读取的时间戳                                | 1. 每次数据读取间隔为30±1秒<br>2. 读取动作稳定，无长时间阻塞或漏读                                                                                                      | 通过                     |      |
| **UC-SC-003** | 传感器采集单元 | 验证THS模块断开或数据异常的容错处理    | 1. 系统正常运行，正在周期读取数据                                     | 1. 在两次读取之间，物理断开THS模块连接<br>2. 观察系统状态与日志<br>3. 重新连接模块                               | 1. 系统检测到断开，触发“异常”状态，黄灯闪烁br>2. 系统不应崩溃，应持续尝试恢复或等待<br>3. 重新连接后，能自动恢复正常读取                                                   | 通过                     |      |
| **UC-DS-001** | 数据存储单元   | 验证.csv格式存储的数据正确性与完整性   | 1. 系统时钟已校准<br>2. 存储路径可用                                  | 1. 启动一次治疗流程，产生多组数据<br>2. 治疗结束后，检查存储的.csv文件                                          | 1. 文件生成，格式为.csv<br>2. 文件包含所有指定列：UID、日期、时间、血温、血容量(RBV)<br>3. 每条记录数据与当时产生值一致                                                   | 通过                     |      |
| **UC-DS-002** | 数据存储单元   | 验证至少2周数据存储的容量             | 1. 系统时间、UID等已配置<br>2. 存储介质为空或空间充足                  | 1. 模拟连续不断（24小时/天）产生数据（如30秒/次）<br>2. 让模拟数据持续写入超过2周（如15天）                      | 1. 系统在整个过程中持续正常运行，无因存储满而异常<br>2. 15天后，最早的数据仍可访问，存储容量满足要求                                                                      | 通过                     |      |
| **UC-DS-003** | 数据存储单元   | 验证RTC时钟在电池供电下的同步准确性    | 1. 主电源断开<br>2. RTC电池（CR2032）已安装且电量充足                  | 1. 记录当前准确时间T1<br>2. 断开主电源，静置24小时<br>3. 重新上电，读取系统时间T2                               | 系统时间T2与T1+24小时的误差在允许范围内（如±1分钟），证明RTC电池维持时钟有效                                                                                             | 通过                     |      |
| **UC-DS-004** | 数据存储单元   | 验证存储满后的数据处理策略             | 1. 将存储空间设置为接近满载（如95%）                                  | 1. 继续产生并存储新数据，直至触发存储满状态<br>2. 观察系统行为与日志                                            | 1. 系统应按照预定策略（如覆盖最旧数据）处理，或抛出明确警告但不停机<br>2. 策略执行后，新数据可继续写入                                                                     | 通过                     |      |
| **UC-DT-001** | 数据传输单元   | 验证RJ45接口与第三方系统通讯符合规范   | 1. PCBA通过网线连接至测试用第三方系统模拟器<br>2. 双方IP等网络配置正确  | 1. 在PCBA上产生一组测试数据<br>2. 启动数据传输<br>3. 在第三方系统模拟器端监听并捕获数据                          | 1. 第三方系统成功接收到数据<br>2. 数据格式、内容、协议（符合BB-DCI V2.1）完全正确                                                                                        | 通过                     |      |
| **UC-DT-002** | 数据传输单元   | 验证USB-serial接口U盘导出功能          | 1. 系统已存储有历史数据<br>2. FAT32格式U盘已插入USB口                  | 1. 触发“数据导出”指令（如通过按键或指令）<br>2. 等待导出完成，检查U盘内容                                        | 1. U盘根目录生成包含历史数据的.csv文件<br>2. 文件可通过电脑正常打开，数据完整<br>3. 导出过程指示灯或日志状态正确                                                          | 通过                     |      |
| **UC-DT-003** | 数据传输单元   | 验证Wi-Fi模块与三方系统/外屏的数据传输 | 1. PCBA与Wi-Fi路由器/测试AP连接成功<br>2. 第三方系统模拟器在同一个网络 | 1. 配置PCBA向指定IP/端口发送数据<br>2. 在PCBA产生实时数据<br>3. 在接收端查看                                    | 1. 接收端能持续、稳定地收到实时RBV和温度数据<br>2. 数据传输延迟在可接受范围内，无频繁断连                                                                                 | 通过                     |      |
| **UC-CM-001** | 配置管理单元   | 验证通过U盘写入配置(UID、时间)         | 1. 准备包含正确配置文件（如config.ini）的U盘<br>2. 系统已关机          | 1. 插入U盘，给系统上电<br>2. 观察启动过程中指示灯状态（应蓝闪）<br>3. 启动完成后，检查系统配置                    | 1. 系统识别U盘配置文件，进入配置模式（蓝闪）<br>2. 启动后，系统UID、日期时间变为配置文件中的值，状态灯蓝常亮                                                               | 通过                     |      |
| **UC-CM-002** | 配置管理单元   | 验证配置文件识别与解析的准确性         | 1. 系统支持通过多种接口（U盘/Wi-Fi指令）接收配置                       | 1. 分别通过U盘和网络指令发送同一份配置信息（UID=Test01， 时间=2025-01-01 10:00:00）<br>2. 检查系统生效的配置     | 1. 两种方式下，系统均能准确解析配置文件或指令<br>2. 解析后，系统获取的UID和时间值与发送值完全一致                                                                         | 通过                     |      |
| **UC-CM-003** | 配置管理单元   | 验证错误配置数据的处理逻辑             | 1. 系统处于可接收配置的状态                                           | 1. 通过U盘写入一份格式错误（如JSON错误）或内容非法（如时间格式不对）的配置文件<br>2. 观察系统反应                 | 1. 系统应拒绝错误配置，进入安全状态（如使用默认配置或上次有效配置）<br>2. 在日志中记录明确的配置错误信息                                                                   | 通过                     |      |
| **UC-TP-001** | 治疗流程单元   | 验证完整治疗流程状态指示灯序列         | 1. 设备组装完整（含指示灯）<br>2. 从关机状态开始                       | 1. 接通电源<br>2. 插入已配置U盘<br>3. 等待配置完成，按下“开始治疗”键<br>4. 等待10分钟以上<br>5. 按下“结束治疗”键 | 1. 通电后：**白灯常亮**<br>2. 识别U盘配置：**蓝灯闪烁** -> 配置成功：**蓝灯常亮**<br>3. 按键开始：**绿灯闪烁** -> 10分钟后：**绿灯常亮**<br>4. 按键结束：**所有灯熄灭** | 通过                     |      |
| **UC-TP-002** | 治疗流程单元   | 验证THS故障时的异常状态指示            | 1. 系统处于“治疗中”（绿灯常亮）状态                                   | 1. 模拟THS故障（如断开传感器连接）                                                                             | 系统检测到THS故障，状态指示灯变为**黄灯闪烁**，直至故障排除                                                                                                             | 通过                     |      |
| **UC-TP-003** | 治疗流程单元   | 验证网络/信号故障时的异常状态指示      | 1. 系统处于“治疗中”状态，且Wi-Fi功能开启，正在尝试连接                 | 1. 断开Wi-Fi路由器或制造强信号干扰                                                                            | 系统检测到网络不可用，状态指示灯变为**黄灯常亮**，直至网络恢复                                                                                                          | 通过                     |      |
| **UC-DU-001** | 屏幕显示单元   | 验证彩色TFT屏数据与状态显示准确性      | 1. 第二阶段硬件（含屏幕）安装完成<br>2. 系统正常开机进入主界面          | 1. 使系统处于不同状态（如治疗中、联机、拷贝中）<br>2. 观察屏幕显示内容                                           | 1. 实时显示的血液温度(℃)、RBV(%)、日期时间准确<br>2. 联机状态、板子状态图标与文字指示正确<br>3. 整体显示清晰，1米内可见                                                   | 通过                     |      |
| **UC-DU-002** | 屏幕显示单元   | 验证数据拷贝与固件升级进度条显示       | 1. 系统开机，屏幕正常显示                                             | 1. 触发U盘数据拷贝操作<br>2. 触发通过Wi-Fi的固件升级操作                                                       | 1. 屏幕显示“拷贝中…”及动态进度条<br>2. 屏幕显示“升级中…”及动态进度条<br>3. 进度与实际进程同步                                                                            | 通过                     |      |
| **UC-DU-003** | 屏幕显示单元   | 验证开机软件版本单次显示               | 1. 系统处于关机状态                                                  | 1. 给系统上电开机                                                                                             | 开机启动过程中，屏幕在主界面出现前，单次显示当前软件版本号（如V1.0.0），持续约3秒后进入主界面                                                                             | 通过                     |      |
## 8. 测试执行流程

| 步骤 |               工作内容                |      责任人      |           完成标志            |
| ---- | ------------------------------------- | ---------------- | ----------------------------- |
| 1    | 测试准备：搭建环境+准备资源+review用例 | 刘振(开发工程师) | 环境可用+用例冻结              |
| 2    | 静态测试：代码审查（规范性/逻辑漏洞）   | 刘振(开发工程师) | 代码审查通过，无致命问题       |
| 3    | 动态测试：执行测试用例+记录缺陷        | 刘振(开发工程师) | 所有用例执行完毕，缺陷记录完整 |
| 4    | 回归测试：验证缺陷修复                 | 刘振(开发工程师) | 失败用例回归通过               |
| 5    | 测试总结：整理交付物+编写测试报告       | 刘振(开发工程师) | 测试报告提交，交付物齐全       |

## 9. 缺陷管理

| 缺陷等级 |             定义             | 处理优先级 | 修复时限 |
| -------- | ---------------------------- | ---------- | -------- |
| 致命     | 核心功能不可用/严重安全隐患   | 最高       | 立即     |
| 严重     | 核心功能缺陷但有替代方案      | 高         | 24小时   |
| 一般     | 非核心功能缺陷，影响轻微      | 中         | 48小时   |
| 轻微     | 代码规范/显示瑕疵，无实质影响 | 低         | 后续迭代 |

